function textUp(t,o,e,n){var i=Math.floor(Math.random()*e.length),s="#"+Math.floor(16777215*Math.random()).toString(16),a=$("<span />").text(e[i]),r=t.pageX||t.clientX+document.body.scroolLeft,l=t.pageY||t.clientY+document.body.scrollTop;$("body").append(a),a.css({top:l,left:r,color:s,transform:"translate(-50%, -50%)",display:"block",position:"absolute",zIndex:999999999999}),a.animate({top:l-(n||200),opacity:0},o,function(){a.remove()})}!function(t,o,e){function n(){console.log("%c ---本网站不支持ie8及以下浏览器打开---","color:red"),"-1"!=t.utils.IEVersion()&&t.confirm("当前为IE浏览器,为了效果体验，不支持打开")&&t.close()}function i(){e("#ip").val(returnCitySN.cip),e("#address").val(returnCitySN.cname)}function s(){var o=e(".banner img");if(length=o.length,q=1,"pc"==t.utils.getWindowInfo().userAgent)for(var n=0;n<o.length;n++)e(o[n]).attr("src",e(o[n]).attr("data-pc"));else for(var n=0;n<o.length;n++)e(o[n]).attr("src",e(o[n]).attr("data-m"));o.load(function(){length<=q?r():q++})}function a(){e("body").css({paddingTop:e("#banner").height()})}function r(){new Swiper(".banner .swiper-container",{loop:!0,autoplay:5e3,autoplayDisableOnInteraction:!1,autoHeight:!0,pagination:".banner .swiper-pagination",paginationClickable:!0,observer:!0,observeParents:!0,onInit:function(t){a()},onBeforeResize:function(t){a()}})}function l(){var o={dom:"J_dotLine",cw:t.utils.getWindowInfo().width,ch:t.utils.getWindowInfo().height,ds:100,r:.5,cl:"#aaa",dis:100};if("m"==t.utils.getWindowInfo().userAgent){var n={ds:50};e.extend(o,n)}new Dotline(o).start()}function c(){for(var t=e("#skills .bar-box"),o=t.find("span"),n=0;n<o.length;n++)e(o[n]).siblings().find("i").css("width",e(o[n]).html())}function d(t){if(h){for(var o=0;o<p.length;o++)p[o].scrollTop=parseInt(e(p[o].name).offset().top);h=!1}for(var o=0;o<p.length;o++)t>=p[o].scrollTop-60&&e("#header ul li").eq(o).addClass("cur").siblings().removeClass("cur")}var u,h=!0,p=[{name:"#banner",scrollTop:0},{name:"#aboutMe",scrollTop:0},{name:"#mySkills",scrollTop:0},{name:"#myPortfolio",scrollTop:0},{name:"#message",scrollTop:0}],f=[{name:"swws",imgUrl:["https://images.hongzequan.com/website/portfolio/swws_1.png","https://images.hongzequan.com/website/portfolio/swws_2.png","https://images.hongzequan.com/website/portfolio/swws_3.png"]},{name:"smt",imgUrl:["https://images.hongzequan.com/website/portfolio/smt_1.png","https://images.hongzequan.com/website/portfolio/smt_2.png","https://images.hongzequan.com/website/portfolio/smt_3.png"]}];t.utils={getWindowInfo:function(){return{width:t.innerWidth,height:t.innerHeight,userAgent:t.innerWidth>870?"pc":"m",ie:this.IEVersion(),limit:7>=this.IEVersion()>10,navTop:e("#aboutMe").offset().top-60}},IEVersion:function(){var t=navigator.userAgent,o=t.indexOf("compatible")>-1&&t.indexOf("MSIE")>-1,e=t.indexOf("Windows NT 6.1; Trident/7.0;")>-1&&!o;if(o){new RegExp("MSIE (\\d+\\.\\d+);").test(t);var n=parseFloat(RegExp.$1);return 7==n?"7":8==n?"8":9==n?"9":10==n?"10":11==n?"11":"0"}return e?"Edge":"-1"}},e.extend({init:function(){n(),s(),a(),l(),i()},goTop:function(t){if(t){var o=e(t).offset().top-60;e("body,html").stop(!0,!0).animate({scrollTop:o},300)}else e("body,html").stop(!0,!0).animate({scrollTop:0},300)},demo:function(o){var n=e(o).attr("data-type");u=new Swiper("#portfolioBanner .swiper-container",{paginationType:"fraction",nextButton:"#portfolioBanner .swiper-button-next",prevButton:"#portfolioBanner .swiper-button-prev",onSlideChangeEnd:function(t){u.update()}});for(var i=0;i<f.length;i++)if(n==f[i].name)for(var s=0;s<f[i].imgUrl.length;s++)u.appendSlide('<div class="swiper-slide"><img src='+f[i].imgUrl[s]+"></div>");e("#portfolioBanner").show("400",function(){u.update(),"m"==t.utils.getWindowInfo().userAgent&&ModalHelper.afterOpen()})},closeModal:function(o){e(o).parent().fadeOut("400",function(){u.removeAllSlides(),u.updatePagination(),"m"==t.utils.getWindowInfo().userAgent&&ModalHelper.beforeClose()})},submitMessage:function(){var t={username:e("#username").val(),sex:e('input:radio[name="sex"]:checked').val(),content:e("textarea[name='content']").val(),ip:e("#ip").val(),address:e("#address").val()};e.ajax({type:"POST",url:"http://localhost:8000/message",data:t,beforeSend:function(){},success:function(t){console.log("data")},error:function(t){console.log("err")}})},openMessage:function(t){}}),e(".ui-checkbox li").on("click",function(){e(this).find("input").attr("checked","checked"),e(this).siblings().find("input").removeAttr("checked")}),e(t).scroll(function(o){var n=e(t).scrollTop();n>=t.utils.getWindowInfo().navTop?(e("#header").addClass("on"),"m"==t.utils.getWindowInfo().userAgent&&e(".copyRight .goTop").addClass("on")):(e("#header").removeClass("on"),"m"==t.utils.getWindowInfo().userAgent&&e(".copyRight .goTop").removeClass("on")),n>=e("#mySkills .font-box").offset().top-t.utils.getWindowInfo().height/2&&c(),d(n)})}(window,document,$),function(t){function o(o){this.opt=this.extend({dom:"J_dotLine",cw:1e3,ch:500,ds:100,r:.5,cl:"#000",dis:100},o),this.c=document.getElementById(this.opt.dom),this.ctx=this.c.getContext("2d"),this.c.width=this.opt.cw,this.c.height=this.opt.ch,this.dotSum=this.opt.ds,this.radius=this.opt.r,this.disMax=this.opt.dis*this.opt.dis,this.color=this.color2rgb(this.opt.cl),this.dots=[];var e=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(o){t.setTimeout(o,1e3/60)},n=this,i={x:null,y:null,label:"mouse"};this.c.onmousemove=function(o){var o=o||t.event;i.x=o.clientX-n.c.offsetLeft,i.y=o.clientY-n.c.offsetTop},this.c.onmouseout=function(t){i.x=null,i.y=null},this.animate=function(){n.ctx.clearRect(0,0,n.c.width,n.c.height),n.drawLine([i].concat(n.dots)),e(n.animate)}}o.prototype.extend=function(t,o){for(var e in o)o[e]&&(t[e]=o[e]);return t},o.prototype.color2rgb=function(t){var o=null,e=null,n=null,i=t.toLowerCase(),s=/^#[0-9a-fA-F]{3,6}$/;if(i&&s.test(i)){if(4==i.length){for(var a="#",r=1;r<4;r++)a+=i.slice(r,r+1).concat(i.slice(r,r+1));i=a}o=parseInt("0x"+i.slice(1,3)),e=parseInt("0x"+i.slice(3,5)),n=parseInt("0x"+i.slice(5,7))}return o+","+e+","+n},o.prototype.addDots=function(){for(var t,o=0;o<this.dotSum;o++)t={x:Math.floor(Math.random()*this.c.width)-this.radius,y:Math.floor(Math.random()*this.c.height)-this.radius,ax:(2*Math.random()-1)/1.5,ay:(2*Math.random()-1)/1.5},this.dots.push(t)},o.prototype.move=function(t){t.x+=t.ax,t.y+=t.ay,t.ax*=t.x>this.c.width-this.radius||t.x<this.radius?-1:1,t.ay*=t.y>this.c.height-this.radius||t.y<this.radius?-1:1,this.ctx.beginPath(),this.ctx.arc(t.x,t.y,this.radius,0,2*Math.PI,!0),this.ctx.stroke()},o.prototype.drawLine=function(t){var o,e=this;this.dots.forEach(function(n){e.move(n);for(var i=0;i<t.length;i++)if((o=t[i])!==n&&null!==o.x&&null!==o.y){var s=n.x-o.x,a=n.y-o.y,r=s*s+a*a;if(!(Math.sqrt(r)>Math.sqrt(e.disMax))){o.label&&Math.sqrt(r)>Math.sqrt(e.disMax)/2&&(n.x-=.02*s,n.y-=.02*a);var l;l=(e.disMax-r)/e.disMax,e.ctx.beginPath(),e.ctx.lineWidth=l/2,e.ctx.strokeStyle="rgba("+e.color+","+parseFloat(l+.2).toFixed(1)+")",e.ctx.moveTo(n.x,n.y),e.ctx.lineTo(o.x,o.y),e.ctx.stroke()}}})},o.prototype.start=function(){var t=this;this.addDots(),setTimeout(function(){t.animate()},100)},t.Dotline=o}(window);var list=["学而时习之","不亦说乎","有朋自远方来","不亦乐乎","人不知而不愠","不亦君子乎","三人行 必有我师焉","择其善者而从之","其不善者而改之","学而不思则罔","思而不学则殆"];$("body>*").bind("click",function(t){textUp(t,2e3,list,200)});var ModalHelper=function(t){var o;return{afterOpen:function(){o=document.scrollingElement.scrollTop,document.body.classList.add("no-scroll"),document.body.style.top=-o+"px"},beforeClose:function(){document.body.classList.remove("no-scroll"),document.scrollingElement.scrollTop=o}}}(),smt=new SMT({animateClass:"animated",offset:100});smt.init(),$.init();