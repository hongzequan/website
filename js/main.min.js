function textUp(e,t,o,n){var s=Math.floor(Math.random()*o.length),i="#"+Math.floor(16777215*Math.random()).toString(16),a=$("<span />").text(o[s]),r=e.pageX||e.clientX+document.body.scroolLeft,c=e.pageY||e.clientY+document.body.scrollTop;$("body").append(a),a.css({top:c,left:r,color:i,transform:"translate(-50%, -50%)",display:"block",position:"absolute",zIndex:999999999999}),a.animate({top:c-(n||200),opacity:0},t,function(){a.remove()})}!function(e,t,o){function n(){console.log("%c ---本网站不支持ie8及以下浏览器打开---","color:red"),"-1"!=e.utils.IEVersion()&&e.confirm("当前为IE浏览器,为了效果体验，不支持打开")&&e.close()}function s(){o(".banner .text").typeIt({whatToType:["Believeme!","I was prepared foreverything."],typeSpeed:100},function(){})}function i(){o("#ip").val(returnCitySN.cip),o("#address").val(returnCitySN.cname),a(g("admin"),g("password"))}function a(e,t){if(e&&t){var n={username:e,password:t};o.ajax({type:"POST",url:b+"checkAdmin",data:n,beforeSend:function(){},success:function(t){var n=JSON.parse(t);1==n.s?(m=!0,o.openMessage("success","欢迎回来！  "+e),o.getMessage()):0==n.s&&o.getMessage()},error:function(e){console.log(e),o.openMessage("error","提交失败！")}})}else o.getMessage()}function r(){var t=o(".banner img");if(length=t.length,q=1,"pc"==e.utils.getWindowInfo().userAgent)for(var n=0;n<t.length;n++)o(t[n]).attr("src",o(t[n]).attr("data-pc"));else for(var n=0;n<t.length;n++)o(t[n]).attr("src",o(t[n]).attr("data-m"));t.load(function(){length<=q?(l(),s()):q++})}function c(){o("body").css({paddingTop:o("#banner").height()})}function l(){new Swiper(".banner .swiper-container",{loop:!0,autoplay:5e3,autoplayDisableOnInteraction:!1,autoHeight:!0,paginationClickable:!0,observer:!0,observeParents:!0,onInit:function(e){c()},onBeforeResize:function(e){c()}})}function d(){var t={dom:"J_dotLine",cw:e.utils.getWindowInfo().width,ch:e.utils.getWindowInfo().height,ds:100,r:.5,cl:"#aaa",dis:100};if("m"==e.utils.getWindowInfo().userAgent){var n={ds:50};o.extend(t,n)}new Dotline(t).start()}function u(){for(var e=o("#skills .bar-box"),t=e.find("span"),n=0;n<t.length;n++)o(t[n]).siblings().find("i").css("width",o(t[n]).html())}function p(e){if(x){for(var t=0;t<y.length;t++)y[t].scrollTop=parseInt(o(y[t].name).offset().top);x=!1}for(var t=0;t<y.length;t++)e>=y[t].scrollTop-60&&o("#header ul li").eq(t).addClass("cur").siblings().removeClass("cur")}function g(t){var o=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),n=e.location.search.substr(1).match(o);return null!=n?unescape(n[2]):null}function f(e){var t=new Date(e);return t.getFullYear()+"/"+(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"/"+t.getDate()+" "+t.getHours()+":"+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())}var m,h,v,x=!0,b="https://api.hongzequan.com:8000/",y=[{name:"#banner",scrollTop:0},{name:"#aboutMe",scrollTop:0},{name:"#mySkills",scrollTop:0},{name:"#myPortfolio",scrollTop:0},{name:"#message",scrollTop:0}],w=[{name:"swws",imgUrl:["https://images.hongzequan.com/website/portfolio/swws_1.png","https://images.hongzequan.com/website/portfolio/swws_2.png","https://images.hongzequan.com/website/portfolio/swws_3.png"]},{name:"smt",imgUrl:["https://images.hongzequan.com/website/portfolio/smt_1.png","https://images.hongzequan.com/website/portfolio/smt_2.png","https://images.hongzequan.com/website/portfolio/smt_3.png"]},{name:"smtyy",imgUrl:["https://images.hongzequan.com/website/portfolio/yy_sumaotong.png","https://images.hongzequan.com/website/portfolio/yy_sumaotong_1.png","https://images.hongzequan.com/website/portfolio/yy_sumaotong_2.png"]}];e.utils={getWindowInfo:function(){return{width:e.innerWidth,height:e.innerHeight,userAgent:e.innerWidth>870?"pc":"m",ie:this.IEVersion(),limit:7>=this.IEVersion()>10,navTop:o("#aboutMe").offset().top-60}},IEVersion:function(){var e=navigator.userAgent,t=e.indexOf("compatible")>-1&&e.indexOf("MSIE")>-1,o=e.indexOf("Windows NT 6.1; Trident/7.0;")>-1&&!t;if(t){new RegExp("MSIE (\\d+\\.\\d+);").test(e);var n=parseFloat(RegExp.$1);return 7==n?"7":8==n?"8":9==n?"9":10==n?"10":11==n?"11":"0"}return o?"Edge":"-1"},htmlEncodeByRegExp:function(e){var t="";return 0==e.length?"":(t=e.replace(/&/g,"&amp;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t=t.replace(/ /g,"&nbsp;"),t=t.replace(/\'/g,"&#39;"),t=t.replace(/\"/g,"&quot;"))}},o.extend({init:function(){n(),r(),d(),i(),M.init()},goTop:function(e){if(e){var t=o(e).offset().top-60;o("body,html").stop(!0,!0).animate({scrollTop:t},300)}else o("body,html").stop(!0,!0).animate({scrollTop:0},300)},demo:function(t){var n=o(t).attr("data-type");v=new Swiper("#portfolioBanner .swiper-container",{paginationType:"fraction",nextButton:"#portfolioBanner .swiper-button-next",prevButton:"#portfolioBanner .swiper-button-prev",onSlideChangeEnd:function(e){v.update()}});for(var s=0;s<w.length;s++)if(n==w[s].name)for(var i=0;i<w[s].imgUrl.length;i++)v.appendSlide('<div class="swiper-slide"><img src='+w[s].imgUrl[i]+"></div>");o("#portfolioBanner").show("400",function(){v.update(),"m"==e.utils.getWindowInfo().userAgent&&ModalHelper.afterOpen()})},closeModal:function(t){o(t).parent().fadeOut("400",function(){v.removeAllSlides(),v.updatePagination(),"m"==e.utils.getWindowInfo().userAgent&&ModalHelper.beforeClose()})},getMessage:function(){o.ajax({type:"get",url:b+"getMessage",data:"",beforeSend:function(){},success:function(e){var t=JSON.parse(e);if(1==t.s)for(var n=t.info,s=0;s<n.length;s++){var i="<li>";0==n[s].sex?i+="<div class='img-box'><img src='https://images.hongzequan.com/website/b_gg.png'></div>":i+="<div class='img-box'><img src='https://images.hongzequan.com/website/b_mm.png'></div>",i+="<div class='font-box'>",0==n[s].isAdmin?i+="<div class='from'>来自"+n[s].address+"网友 - "+n[s].userName+"</div>":i+="<div class='from'>来自 - 权小哥</div>",i+="<p>"+n[s].content+"</p>",i+="<span>"+f(n[s].createDate)+"</span>",m&&(i+="<div class='delect' onClick='$.delectMessage("+n[s].id+",this)'>删除</div>"),i+="</div>",i+="</li>",o(".msg-item").append(i)}},error:function(e){console.log("err")}})},submitMessage:function(){var t={username:""==o("#username").val()?"匿名":e.utils.htmlEncodeByRegExp(o("#username").val()),sex:o('input:radio[name="sex"]:checked').val(),content:e.utils.htmlEncodeByRegExp(o("textarea[name='content']").val()),ip:o("#ip").val(),address:o("#address").val(),isAdmin:m?1:0};o.ajax({type:"POST",url:b+"setMessage",data:t,beforeSend:function(){if(""==t.content)return o.openMessage("error","内容不能为空"),!1},success:function(e){if(1==JSON.parse(e).s){o.openMessage("success","提交成功～"),o("textarea[name='content']").val("");var n="<li class='on'>";n+=0==t.sex?"<div class='img-box'><img src='https://images.hongzequan.com/website/b_gg.png'></div>":"<div class='img-box'><img src='https://images.hongzequan.com/website/b_mm.png'></div>",n+="<div class='font-box'>",n+=0==t.isAdmin?"<div class='from'>来自"+t.address+"网友 - "+t.username+"</div>":"<div class='from'>来自 - 权小哥</div>",n+="<p>"+t.content+"</p>",n+="<span>"+f(Date.parse(new Date))+"</span>",n+="</div>",n+="</li>",o(".msg-item").prepend(n)}},error:function(e){console.log(e),o.openMessage("error","提交失败！")}})},checkMessage:function(){var e={ip:o("#ip").val()};o.ajax({type:"POST",url:b+"checkMessage",data:e,beforeSend:function(){},success:function(e){var t=JSON.parse(e);1==t.s?o.submitMessage():0==t.s&&o.openMessage("error","1分钟内禁止多次提交")},error:function(e){console.log(e),o.openMessage("error","提交失败！")}})},delectMessage:function(e,t){o.ajax({type:"POST",url:b+"delectMessage",data:{id:e},beforeSend:function(){},success:function(e){1==JSON.parse(e).s&&(o.openMessage("success","删除成功"),o(t).parents("li").fadeOut("400",function(){o(t).parents("li").remove()}))},error:function(e){console.log(e),o.openMessage("error","提交失败！")}})},openMessage:function(e,t){if(o("#tips").length>0&&(o("#tips").remove(),"undefined"!=h&&clearTimeout(h)),"success"==e){var n='<div id="tips">'+t+"</div>";o("body").append(n)}else if("error"==e){var n='<div id="tips" class="error">'+t+"</div>";o("body").append(n)}o("#tips").addClass("on"),h=setTimeout(function(){o("#tips").fadeOut("400",function(){o("#tips").remove()})},3e3)}}),o(".ui-checkbox li").on("click",function(){o(this).find("input").attr("checked","checked"),o(this).siblings().find("input").removeAttr("checked")}),o(e).scroll(function(t){var n=o(e).scrollTop();n>=e.utils.getWindowInfo().navTop?(o("#header").addClass("on"),"m"==e.utils.getWindowInfo().userAgent&&o(".copyRight .goTop").addClass("on")):(o("#header").removeClass("on"),"m"==e.utils.getWindowInfo().userAgent&&o(".copyRight .goTop").removeClass("on")),n>=o("#mySkills .font-box").offset().top-e.utils.getWindowInfo().height/2&&u(),p(n)});var M=new SMT({animateClass:"animated",offset:100});e.onload=function(){o(".myPortfolio-box ul").cascade()}}(window,document,$),function(e){function t(t){this.opt=this.extend({dom:"J_dotLine",cw:1e3,ch:500,ds:100,r:.5,cl:"#000",dis:100},t),this.c=document.getElementById(this.opt.dom),this.ctx=this.c.getContext("2d"),this.c.width=this.opt.cw,this.c.height=this.opt.ch,this.dotSum=this.opt.ds,this.radius=this.opt.r,this.disMax=this.opt.dis*this.opt.dis,this.color=this.color2rgb(this.opt.cl),this.dots=[];var o=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t){e.setTimeout(t,1e3/60)},n=this,s={x:null,y:null,label:"mouse"};this.c.onmousemove=function(t){var t=t||e.event;s.x=t.clientX-n.c.offsetLeft,s.y=t.clientY-n.c.offsetTop},this.c.onmouseout=function(e){s.x=null,s.y=null},this.animate=function(){n.ctx.clearRect(0,0,n.c.width,n.c.height),n.drawLine([s].concat(n.dots)),o(n.animate)}}t.prototype.extend=function(e,t){for(var o in t)t[o]&&(e[o]=t[o]);return e},t.prototype.color2rgb=function(e){var t=null,o=null,n=null,s=e.toLowerCase(),i=/^#[0-9a-fA-F]{3,6}$/;if(s&&i.test(s)){if(4==s.length){for(var a="#",r=1;r<4;r++)a+=s.slice(r,r+1).concat(s.slice(r,r+1));s=a}t=parseInt("0x"+s.slice(1,3)),o=parseInt("0x"+s.slice(3,5)),n=parseInt("0x"+s.slice(5,7))}return t+","+o+","+n},t.prototype.addDots=function(){for(var e,t=0;t<this.dotSum;t++)e={x:Math.floor(Math.random()*this.c.width)-this.radius,y:Math.floor(Math.random()*this.c.height)-this.radius,ax:(2*Math.random()-1)/1.5,ay:(2*Math.random()-1)/1.5},this.dots.push(e)},t.prototype.move=function(e){e.x+=e.ax,e.y+=e.ay,e.ax*=e.x>this.c.width-this.radius||e.x<this.radius?-1:1,e.ay*=e.y>this.c.height-this.radius||e.y<this.radius?-1:1,this.ctx.beginPath(),this.ctx.arc(e.x,e.y,this.radius,0,2*Math.PI,!0),this.ctx.stroke()},t.prototype.drawLine=function(e){var t,o=this;this.dots.forEach(function(n){o.move(n);for(var s=0;s<e.length;s++)if((t=e[s])!==n&&null!==t.x&&null!==t.y){var i=n.x-t.x,a=n.y-t.y,r=i*i+a*a;if(!(Math.sqrt(r)>Math.sqrt(o.disMax))){t.label&&Math.sqrt(r)>Math.sqrt(o.disMax)/2&&(n.x-=.02*i,n.y-=.02*a);var c;c=(o.disMax-r)/o.disMax,o.ctx.beginPath(),o.ctx.lineWidth=c/2,o.ctx.strokeStyle="rgba("+o.color+","+parseFloat(c+.2).toFixed(1)+")",o.ctx.moveTo(n.x,n.y),o.ctx.lineTo(t.x,t.y),o.ctx.stroke()}}})},t.prototype.start=function(){var e=this;this.addDots(),setTimeout(function(){e.animate()},100)},e.Dotline=t}(window);var list=["学而时习之","不亦说乎","有朋自远方来","不亦乐乎","人不知而不愠","不亦君子乎","三人行 必有我师焉","择其善者而从之","其不善者而改之","学而不思则罔","思而不学则殆"];$("body>*").bind("click",function(e){textUp(e,2e3,list,200)});var ModalHelper=function(e){var t;return{afterOpen:function(){t=document.scrollingElement.scrollTop,document.body.classList.add("no-scroll"),document.body.style.top=-t+"px"},beforeClose:function(){document.body.classList.remove("no-scroll"),document.scrollingElement.scrollTop=t}}}();$.init();